base: &base

    rest_auth:
        REST_AUTH_SITE_KEY: <%= ENV.fetch("SECRET_DEVISE_PEPPER") { "09af09af09af09af09af09af09af09af09af09af" } %>
        REST_AUTH_DIGEST_STRETCHES: 10

    rails:
        session_key: _inaturalist_session
        secret: <%= ENV.fetch("SECRET_KEY_BASE") { "09af09af09af09af09af09af09af09af" } %>

    # ubio:
    #    key:

    # yahoo_dev_network:
    #    app_id:

    tile_servers:
        elasticsearch: <%= ENV.fetch("INAT_TILES_URL") { "http://localhost:4000/v1" } %>
    #    observations: http://www.inaturalist.org/observations/tiles
    #    tilestache: http://geo.inaturalist.org
    #    tilestache_public_path: /home/inaturalist/deployment/TileStache/public

    # facebook:
    #    namespace:
    #    app_id: 
    #    app_secret:
    #    admin_ids:

    # twitter:
    #    key:
    #    secret:
    #    username:
    
    # apple:
    #    app_id:
    #    client_id:
    #    team_id:
    #    key_id:
    #    pem:

    s3_bucket: <%= ENV.fetch("INAT_AWS_DOMAIN") { "staticdev.inaturalist.org" } %>
    s3_protocol: <%= ENV.fetch("INAT_AWS_PROTOCOL") { "https" } %>
    s3_region: <%= ENV.fetch("INAT_AWS_REGION") { "us-east-1" } %>
    s3_public_host: <%= ENV.fetch("INAT_AWS_OPENDATA_DOMAIN") { "staticdev-public.s3.amazonaws.com" } %>
    s3_public_region: <%= ENV.fetch("INAT_AWS_OPENDATA_REGION") { "us-east-1" } %>
    s3_public_bucket: <%= ENV.fetch("INAT_AWS_OPENDATA_BUCKET") { "staticdev-public" } %>

    memcached: <%= ENV.fetch("INAT_MEMCACHED_HOSTNAME") { "memcached" } %>

    elasticsearch_hosts:
        - http://<%= ENV.fetch("INAT_ES_HOST") { "es" } %>:9200

    node_api_url: <%= ENV.fetch("INAT_API_URL") { "http://localhost:4000/v1" } %>

    google:
        browser_api_key: <%= ENV.fetch("INAT_GOOGLE_BROWSER_API_KEY") { "09af09af09af09af09af09af09af09af" } %>
        client_id: <%= ENV.fetch("INAT_GOOGLE_CLIENT_ID") { "09af09af09af09af09af09af09af09af" } %>
        secret: <%= ENV.fetch("INAT_GOOGLE_SECRET") { "09af09af09af09af09af09af09af09af" } %>

    # bing:
    #    key:

    # soundcloud:
    #    client_id:
    #    secret:
    
    x_sendfile_header: X-Accel-Redirect
    
    flickr:
        key: flickr-key
        shared_secret: flickr-share-secret
    
    # rakismet:
    #    key:
    #    site_url:
    
    # gbif:
    #    username:
    #    password:
    #    notification_address:
    
    # orcid:
    #    client_id:
    #    client_secret:
    
    # donorbox:
    #    email:
    #    key: 

    # crowdin:
    #    projects:
    #        web:
    #            identifier:
    #            key:
    #        mobile:
    #            identifier:
    #            key:
    #        seek:
    #            identifier:
    #            key:

    # sendgrid:
    #    api_key:
    #    validation_api_key:
    #    # Unsubscribe groups configured on Sendgrid
    #    asm_group_ids:
    #        # Transactional emails
    #        default: 25993
    #        # Emails about your account
    #        account: 26500
    #        # Donation campaigns
    #        donation: 19306
    #        # News about iNat
    #        news: 19705
    #        # Emails to existing donors
    #        donors: 28967
    #        # Emails about legacy giving
    #        legacy_giving: 34067
    #        # Emails about accuracy experiments
    #        accuracy: 35930
    #    primary_ip_pool:
    #    alternate_ip_pool:

    jwt_secret: <%= ENV.fetch("INAT_JWT_SECRET") { "secret" } %>
    jwt_application_secret: <%= ENV.fetch("INAT_JWT_APPLICATION_SECRET") { "application_secret" } %>

    # banned_emails:

    # aggregator_exception_project_ids:
    
    # allowed_email_recipient_patterns:
    
development:
    <<: *base

test:
    <<: *base
    # We shouldn't assume a working instance of the node API is running in a
    # test environment, so use different defaults to ensure we don't get fooled
    # when a test passes in a development environment where the node API *is*
    # running
    node_api_url: http://<%= ENV.fetch("INAT_API_HOST") { "api" } %>:5000/v1

production:
    <<: *base
