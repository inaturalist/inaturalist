$(function() {
  $(document).on('mousemove', '.bar-rect', function(evt) {
    showTooltip(evt, $(this).data('tooltip-text'));
  });

  $(document).on('mouseout', '.bar-rect', function() {
    hideTooltip();
  });
});

function showTooltip(evt, text) {
  var tooltip = $("#tooltip");
  tooltip.html(text);
  tooltip.css("display", "block");

  // Calculate the center position of the rectangle
  var rect = evt.target.getBoundingClientRect();
  var centerX = rect.left + rect.width / 2;
  var centerY = rect.top + rect.height / 2;

  // Set the tooltip position
  tooltip.css("position", "fixed");
  tooltip.css("left", centerX + 'px');
  tooltip.css("top", centerY + 'px');
}

function hideTooltip() {
  var tooltip = $("#tooltip");
  tooltip.css("display", "none");
}
